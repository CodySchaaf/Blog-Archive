<!DOCTYPE html>
<html>
  <link href='/stylesheets/all-c07132c630344209d0161afe4a08bb13.css' media='all' rel='stylesheet' type='text/css'>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Button Loaders</title>
  <meta name="description" content="This post will detail how to build a simple button loader using AngularJs.">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://codyschaaf.com/angular/2015/09/28/button-loaders.html">
  <link rel="alternate" type="application/rss+xml" title="Coding With Cody" href="http://codyschaaf.com/feed.xml" />
</head>

  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Coding With Cody</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>

    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Button Loaders</h1>
    <p class="post-meta">Sep 28, 2015</p>
  </header>

  <article class="post-content">
    <p>This post will detail how to build a simple button loader using AngularJs.</p>

<p data-height="203" data-theme-id="19100" data-slug-hash="pjNLEQ" data-default-tab="result" data-user="codyschaaf" class="codepen">See the Pen <a href="http://codepen.io/codyschaaf/pen/pjNLEQ/">Button Loader</a> by Cody Schaaf (<a href="http://codepen.io/codyschaaf">@codyschaaf</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async="" src="//assets.codepen.io/assets/embed/ei.js"></script>

<p>This directive allows for a busy state to quickly and simply be applied to a form button in an Angular app. To use this directive
define a button as you normally would, and then apply the <code>btn-busy</code> directive with the scope variable that controls the
toggle <code>btn-busy="isProcessing"</code>.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">example usage</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;button</span> <span class="na">ng-click=</span><span class="s">&quot;submit()&quot;</span> <span class="na">btn-busy=</span><span class="s">&quot;isSubmitting&quot;</span> <span class="na">ng-disabled=</span><span class="s">&quot;isSubmitting&quot;</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span></div></div></pre></div></figure>

<p>Optionally you can add an ng-disabled to prevent additional clicks while the form is processing. Typically I’m against ng-disabled, but I think this
is a great use case for it.</p>

<h1 id="btnbusy-directive">btnBusy Directive</h1>

<p>For the directive definition we have a template, and an isolate scope which will get its busy attribute from the directive definition.
By having <code>busy: "=btnBusy"</code> in the scope definition angular will look for btn-busy on the directive instance (seen above),
but it will make the variable available for usage in the directive’s template via the busy variable for clarity. This allows our
directive to be compact and not require an additional attribute.</p>

<p>Finally we want transclude true to be set. Transclude can be a bit scary at first, but all it does is it allows for the directive
to extract the content in the directive instance (markup that is between the opening and closing <code>button</code> tags, which is ‘Submit’ in the example above), and
inject that at some point into the directive’s template. This point is specified by the ng-transclude tag.</p>

<div data-toggle=""></div>
<div data-toggle-ts-js="">

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">btnBusy directive definition</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nx">myApp</span><span class="p">.</span><span class="nx">directive</span><span class="p">(</span><span class="s2">&quot;btnBusy&quot;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">&#x7b;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="k">return</span> <span class="p">&#x7b;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">template</span>: <span class="kt">...</span><span class="p">,</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">transclude</span>: <span class="kt">true</span><span class="p">,</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">scope</span><span class="o">:</span> <span class="p">&#x7b;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="nx">busy</span><span class="o">:</span> <span class="s2">&quot;=btnBusy&quot;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="p">&#x7d;,</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">restrict</span><span class="o">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="p">&#x7d;;</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="p">&#x7d;);</span></div></div></pre></div></figure>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">btnBusy directive definition</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nx">myApp</span><span class="p">.</span><span class="nx">directive</span><span class="p">(</span><span class="s2">&quot;btnBusy&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">&#x7b;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="k">return</span> <span class="p">&#x7b;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">template</span><span class="o">:</span> <span class="p">...,</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">transclude</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">scope</span><span class="o">:</span> <span class="p">&#x7b;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="nx">busy</span><span class="o">:</span> <span class="s2">&quot;=btnBusy&quot;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="p">&#x7d;,</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">restrict</span><span class="o">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="p">&#x7d;;</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="p">&#x7d;);</span></div></div></pre></div></figure>

</div>

<p>For the directive template we start with a containing <code>div</code>, this will be the element that gets a <code>position: relative</code>, and
will allow the button to remain at the same width as it was when it had text in it, before we replaced it with a spinner.</p>

<p>If we just allowed Angular’s default hidden state the text would get a <code>display: none</code> and the button would collapse down
to the size of the spinner. This way we get a much more polished experience, as well as a nice directive to hide all
the logic that would be a pain to repeat every time.</p>

<p>Inside this container element we place a <code>div</code> with ng-transclude, remember this is the place holder for our injected content.
This is the element that allows our directive to be reusable with any content. We add <code>ng-hide='busy'</code> so that we can control the
state of button. When busy is true the content will be hidden.</p>

<p>The busy container will hold the busy animation, and will get a <code>position: absolute</code> so that it can be positioned to not take up space,
and will be placed on top of the content. When the directive switches to its busy state the content will be hidden, but will continue to
take up space. This will prevent the button from collapsing, but will force us to absolutely position the busy animation on top
of the content.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">btnBusy template</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;div&gt;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;div</span> <span class="na">ng-transclude</span> <span class="na">ng-hide=</span><span class="s">&quot;busy&quot;</span> <span class="na">class=</span><span class="s">&quot;btn-busy-text&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;busy-container&quot;</span><span class="nt">&gt;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;busy&quot;</span> <span class="na">ng-show=</span><span class="s">&quot;busy&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;/div&gt;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;/div&gt;</span></div></div></pre></div></figure>

<p>All together we have:</p>

<div data-toggle=""></div>
<div data-toggle-ts-js="">

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">btnBusy directive definition</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nx">myApp</span><span class="p">.</span><span class="nx">directive</span><span class="p">(</span><span class="s2">&quot;btnBusy&quot;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">&#x7b;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="k">return</span> <span class="p">&#x7b;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">template</span><span class="o">:</span> <span class="err">`</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">                      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">transclude</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">hide</span><span class="o">=</span><span class="s2">&quot;busy&quot;</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;btn-busy-text&quot;</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">                      <span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;busy-container&quot;</span><span class="o">&gt;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">                          <span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;busy&quot;</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">show</span><span class="o">=</span><span class="s2">&quot;busy&quot;</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">                      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">                  <span class="o">&lt;</span><span class="err">/div&gt;`,</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">transclude</span>: <span class="kt">true</span><span class="p">,</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">scope</span><span class="o">:</span> <span class="p">&#x7b;</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="nx">busy</span><span class="o">:</span> <span class="s2">&quot;=btnBusy&quot;</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="p">&#x7d;,</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">restrict</span><span class="o">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="p">&#x7d;;</span>
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="p">&#x7d;);</span></div></div></pre></div></figure>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">btnBusy directive definition</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nx">myApp</span><span class="p">.</span><span class="nx">directive</span><span class="p">(</span><span class="s2">&quot;btnBusy&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">&#x7b;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="k">return</span> <span class="p">&#x7b;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">template</span><span class="o">:</span> <span class="s2">&quot;&lt;div&gt;\n&quot;</span> <span class="o">+</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">                  <span class="s2">&quot;&lt;div ng-transclude ng-hide=\&quot;busy\&quot; class=\&quot;btn-busy-text\&quot;&gt;&lt;/div&gt;\n&quot;</span> <span class="o">+</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">                  <span class="s2">&quot;&lt;div class=\&quot;busy-container\&quot;&gt;\n&quot;</span> <span class="o">+</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">                  <span class="s2">&quot;&lt;div class=\&quot;busy\&quot; ng-show=\&quot;busy\&quot;&gt;&lt;/div&gt;\n&quot;</span> <span class="o">+</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">                  <span class="s2">&quot;&lt;/div&gt;\n&quot;</span><span class="o">+</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">                  <span class="s2">&quot;&lt;/div&gt;&quot;</span><span class="p">,</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">transclude</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">scope</span><span class="o">:</span> <span class="p">&#x7b;</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="nx">busy</span><span class="o">:</span> <span class="s2">&quot;=btnBusy&quot;</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="p">&#x7d;,</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nx">restrict</span><span class="o">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="p">&#x7d;;</span>
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="p">&#x7d;);</span></div></div></pre></div></figure>

</div>

<p>For the css, we need to define a processing animation. I have chosen a spinner because it fits nicely, but you can substitute
your favorite loading state.</p>

<p>First we have the keyframe definition, then inside our directive name space we have directive specific styles.</p>

<p>We have the containing div with a relative position, this allows the position absolute to be positioned relative to this
parent element.</p>

<p>The busy class gets all of the animation styles including the animation definition. Notice <code>infinite</code> which allows the
animation to repeat itself. We define a boarder as well as a border radius to get our circular spinner.
We also need to override the animation with a 0s animation once ng-hide-add class is added to the element, but only if you have
the ngAnimate module installed.</p>

<p>For a quick aside on animations which only apply if you have the ngAnimate module installed,
once the scope variable becomes true for ng-hide angular will apply an <code>ng-hide-add</code> class as well as an <code>ng-animate</code>.
After this class is added it will scan the element for any transitions or animations. It will store the specified time, and then
it will add the <code>ng-hide-add-active</code> and <code>ng-hide</code> classes. Once these classes are applied it will wait for the above
stored time until it removes the element from view by removing the ng-animate class which was blocking the affects of ng-hide.
It does this because it assumes the applied animation or transition is meant to transition the element out of view.
Typically this is exactly what we want, but for this use case we don’t want the element to remain in view for an extra
.8 seconds, so we override it to 0 seconds before angular does its check.</p>

<p>For the <code>btn-busy-text</code> class we need to override the default <code>ng-hide</code> styles. The default styles apply a <code>display: none !important</code>
and would cause the element to disappear and collapse the button. We want it to remain a block level element even when hidden so we add <code>display: block !important;</code>
Note the <code>!important</code> which is required to override Angular’s <code>!important</code>. We also give it an opacity of 0 so that it appears hidden.</p>

<p>Then we give the <code>busy-container</code> an absolute position. Then we position it and give it
a full width so it appears centered.</p>

<p>I have also added a default height and width, as well as a larger version, these will be specific to your site’s button dimensions.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">btnBusy scss</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="k">@keyframes</span> <span class="nt">rotate-360</span> <span class="p">&#x7b;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">from</span> <span class="p">&#x7b;</span> <span class="na">transform</span><span class="o">:</span> <span class="nf">rotate</span><span class="p">(</span><span class="mi">0</span><span class="kt">deg</span><span class="p">);</span> <span class="p">&#x7d;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">to</span> <span class="p">&#x7b;</span> <span class="na">transform</span><span class="o">:</span> <span class="nf">rotate</span><span class="p">(</span><span class="mi">360</span><span class="kt">deg</span><span class="p">);</span> <span class="p">&#x7d;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="p">&#x7d;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="o">[</span><span class="nt">btn-busy</span><span class="o">]</span> <span class="p">&#x7b;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&gt;</span> <span class="nt">div</span> <span class="p">&#x7b;</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">position</span><span class="o">:</span> <span class="no">relative</span><span class="p">;</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="p">&#x7d;</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nc">.busy</span> <span class="p">&#x7b;</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">animation</span><span class="o">:</span> <span class="n">rotate-360</span> <span class="mi">0</span><span class="mf">.8</span><span class="kt">s</span> <span class="n">infinite</span> <span class="n">linear</span><span class="p">;</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">border</span><span class="o">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="no">solid</span> <span class="ni">slategray</span><span class="p">;</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">border-radius</span><span class="o">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">border-right-color</span><span class="o">:</span> <span class="ni">midnightblue</span><span class="p">;</span>
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">border-top-color</span><span class="o">:</span> <span class="ni">midnightblue</span><span class="p">;</span>
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">display</span><span class="o">:</span> <span class="no">inline</span><span class="o">-</span><span class="no">block</span><span class="p">;</span>
</div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">&amp;</span><span class="nc">.ng-hide-add</span> <span class="p">&#x7b;</span>
</div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="na">animation</span><span class="o">:</span> <span class="no">none</span> <span class="mi">0</span><span class="kt">s</span><span class="p">;</span> <span class="c1">//allow for quick removal (ignore .8 second animation from rotate-360)</span>
</div></div><div data-line="19" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="p">&#x7d;</span>
</div></div><div data-line="20" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="p">&#x7d;</span>
</div></div><div data-line="21" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nc">.btn-busy-text</span> <span class="p">&#x7b;</span>
</div></div><div data-line="22" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">&amp;</span><span class="nc">.ng-hide</span> <span class="p">&#x7b;</span>
</div></div><div data-line="23" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="na">display</span><span class="o">:</span> <span class="no">block</span> <span class="nv">!important</span><span class="p">;</span> <span class="c1">//override angular&#39;s default</span>
</div></div><div data-line="24" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="na">opacity</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
</div></div><div data-line="25" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="p">&#x7d;</span>
</div></div><div data-line="26" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="p">&#x7d;</span>
</div></div><div data-line="27" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nc">.busy-container</span> <span class="p">&#x7b;</span>
</div></div><div data-line="28" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">position</span><span class="o">:</span> <span class="no">absolute</span><span class="p">;</span>
</div></div><div data-line="29" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">top</span><span class="o">:</span> <span class="mi">0</span><span class="kt">px</span><span class="p">;</span>
</div></div><div data-line="30" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">left</span><span class="o">:</span> <span class="mi">0</span><span class="kt">px</span><span class="p">;</span>
</div></div><div data-line="31" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">width</span><span class="o">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
</div></div><div data-line="32" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="p">&#x7d;</span>
</div></div><div data-line="33" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nc">.busy</span> <span class="p">&#x7b;</span>
</div></div><div data-line="34" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">height</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
</div></div><div data-line="35" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">width</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
</div></div><div data-line="36" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="p">&#x7d;</span>
</div></div><div data-line="37" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="38" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="k">&amp;</span><span class="nc">.btn-busy-large</span> <span class="nc">.busy</span> <span class="p">&#x7b;</span>
</div></div><div data-line="39" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">height</span><span class="o">:</span> <span class="mi">32</span><span class="kt">px</span><span class="p">;</span>
</div></div><div data-line="40" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">width</span><span class="o">:</span> <span class="mi">32</span><span class="kt">px</span><span class="p">;</span>
</div></div><div data-line="41" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="p">&#x7d;</span>
</div></div><div data-line="42" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="43" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="p">&#x7d;</span></div></div></pre></div></figure>

<p>Finally to see it in action we can make a form and apply the directive to our submit button.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">btnBusy in action</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;div</span> <span class="na">ng-app=</span><span class="s">&quot;myApp&quot;</span><span class="nt">&gt;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="nt">&lt;div</span> <span class="na">ng-controller=</span><span class="s">&quot;Main as MainCtrl&quot;</span> <span class="na">class=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;form</span> <span class="na">name=</span><span class="s">&quot;timeForm&quot;</span> <span class="na">class=</span><span class="s">&quot;form-inline&quot;</span> <span class="na">novalidate</span><span class="nt">&gt;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="nt">&lt;h5&gt;</span>How long should we wait (ms)?<span class="nt">&lt;/h5&gt;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;form-group&quot;</span><span class="nt">&gt;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">class=</span><span class="s">&quot;input-s form-control&quot;</span> <span class="na">name=</span><span class="s">&quot;time&quot;</span> <span class="na">ng-model=</span><span class="s">&quot;MainCtrl.waitTime&quot;</span> <span class="na">placeholder=</span><span class="s">&quot;time&quot;</span> <span class="na">ng-required=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="nt">&lt;/div&gt;</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;btn btn-primary&quot;</span> <span class="na">ng-click=</span><span class="s">&quot;MainCtrl.wait()&quot;</span> <span class="na">btn-busy=</span><span class="s">&quot;MainCtrl.waiting&quot;</span> <span class="na">ng-disabled=</span><span class="s">&quot;MainCtrl.waiting&quot;</span><span class="nt">&gt;</span>Let&#39;s Wait!<span class="nt">&lt;/button&gt;</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;/form&gt;</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="nt">&lt;/div&gt;</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;/div&gt;</span></div></div></pre></div></figure>


  </article>

  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'codingwithcody';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <script type="text/javascript">
    (function() {
      var hiddenClass = ' toggle-hidden';
      var dataBlocks = document.querySelectorAll('[data-toggle-TS-JS]');
      var codeBlocks = [].map.call(dataBlocks, function(el) {
        var blocks = el.querySelectorAll("figure.code-highlight-figure");
        blocks[1].className += hiddenClass;
        return [blocks[0], blocks[1], el];
      });
      [].forEach.call(document.querySelectorAll('[data-toggle]'), function(element, index) {
        element.innerHTML = 'View JavaScript';
        element.className = 'link';
        function setHeight(target) {
          var style = getComputedStyle(target);
          codeBlocks[index][2].style.height = parseInt(style.marginBottom) + target.clientHeight + "px";
        }
        setHeight(codeBlocks[index][0]);
        element.addEventListener('click', function() {
          var elTS = codeBlocks[index][0];
          var elJS = codeBlocks[index][1];
          if (elTS.classList.contains('toggle-hidden')) {
            element.innerHTML = 'View JavaScript';
            elTS.className = elTS.className.replace(hiddenClass, '');
            elJS.className += hiddenClass;
            setHeight(elTS);
          } else {
            element.innerHTML = 'View TypeScript';
            elTS.className += hiddenClass;
            elJS.className = elJS.className.replace(hiddenClass, '');
            setHeight(elJS);
          }
        });
      });
    })()
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Coding With Cody</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Coding With Cody</li>
          <li><a href="mailto:codyjschaaf@gmail.com">codyjschaaf@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/CodySchaaf">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">CodySchaaf</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/TheCodingCody">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">TheCodingCody</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Come learn with me. For comments please file an issue or pull request at https://github.com/CodySchaaf/Blog/issues
</p>
      </div>
    </div>

  </div>

</footer>

  </body>

</html>
